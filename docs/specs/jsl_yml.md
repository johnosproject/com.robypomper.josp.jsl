# JOSP Service Library -Specs: `jsl.yml`

A JSL Instance must be initialized using a `JSL.Settings` object. This object can
be initialized parsing a file or starting from a `Map` properties.<br/>
Both, the yaml file and the Map, can contain the same properties. 

**NB:** The JSL Shell use the ```jsl.yml``` as main config file. <br/>
You can override default value, using the ```--configs``` (or shorter ```-c```)
params when you execute the JSL Shell from the command line.

Those properties include service's id and name, but also JCP urls and boolean
properties to enable/disable communications.

_In order to obtain service's credentials, generate them from your local JCP
or email [tech@johnosproject.org](mailto:tech@johnosproject.org) for the public
available JCP credentials._

**If the JSL instance is running, you can use his methods to update initial configs.**

## Properties list

| Property                                                                 | Default value          | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|--------------------------------------------------------------------------|------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| jsl.srv.id<br/>(JSLSRV_ID)                                               | ""                     | Service's id, equal to the `jcp.client.id`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| jsl.srv.name<br/>(JSLSRV_NAME)                                           | ""                     | Service's name displayed to End User.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| jsl.srv.instance<br/>(JSLSRV_INSTANCE)                                   | ""                     | Value to use as JSL Service's instance id. Not so usefull, keep it empty to generate a random instance id.                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| jsl.srv.baseDir<br/>(JSLSRV_BASE_DIR)                                    | ""                     | Path to use as base dir for all relative paths used in settings.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| jsl.usr.name<br/>(JSLUSR_NAME)                                           | ""                     | Logged in user's name.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| jsl.usr.id<br/>(JSLUSR_ID)                                               | ""                     | Logged in user's id.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| jsl.comm.local.enabled<br/>(JSLCOMM_LOCAL_ENABLED)                       | true                   | Set 'false' to disable the [JOD Local Server](communication_local.md) and make object not reachable on local network.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| jsl.comm.local.onlyLocalhost<br/>(JSLCOMM_LOCAL_ONLY_LOCALHOST)          | false                  | If 'true' the JSL Service will connect only to localhost JOSP Objects for local communication.                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| jsl.comm.local.discovery<br/>(JSLCOMM_LOCAL_DISCOVERY)                   | Auto                   | Discovery system implementation, you can choose between different mDNS/Bonjour implementations. It can be one of the following values:<br/>**Auto** choose the discovery system depending the detected operating system<br/>**Avahi** use the Avahi daemon implementation, common on linux system<br/>**DNS-SD** the default MacOS bonjour service<br/>**JmDNS** java mDNS implementation from [jmdns](https://github.com/jmdns/jmdns) library<br/>**JmmDNS* java mDNS implementation from [jmdns](https://github.com/jmdns/jmdns) library (multiple interfaces version). |
| jsl.comm.local.onlySSL<br/>(JSLCOMM_LOCAL_ONLY_SSL)                      | false                  | If 'true' the JSL Service will use only SSL clients for local communication.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| jsl.comm.local.onlyNoSSL<br/>(JSLCOMM_LOCAL_ONLY_NO_SSL)                 | false                  | If 'true' the JSL Service will use only NoSSL clients for local communication.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| jsl.comm.local.sslSharingEnabled<br/>(JSLCOMM_LOCAL_SSL_SHARING_ENABLED) | true                   | If 'true' the local client tries to share his certificate with the JOSP Object's server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| jsl.comm.local.ks.path<br/>(JSLCOMM_LOCAL_KS_PATH)                       | ./configs/local_ks.jks | Path for the service's local keystore.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| jsl.comm.local.ks.pass<br/>(JSLCOMM_LOCAL_KS_PASS)                       | 123456                 | Password for the service's local keystore.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| jsl.comm.local.ks.alias<br/>(JSLCOMM_LOCAL_KS_ALIAS)                     | ""                     | Alias of the certificate stored into the service's local keystore. By default, it's an empty string that means `$FULL_SRV_ID-LocalCert`.                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| jsl.comm.cloud.enabled<br/>(JSLCOMM_CLOUD_ENABLED)                       | true                   | Set 'false' to disable the [JOD Gateway O2S Client](communication_cloud.md) and make object not reachable via JCP.                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| jcp.connect<br/>(JCP_CONNECT)                                            | true                   | Set 'false' to prevent JSL Service connection to John Cloud Platform.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| jcp.client.refresh<br/>(JCP_REFRESH_TIME)                                | 30                     | Seconds between each JCP connection retry, when JCP is not available.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| jcp.url.apis<br/>(JCP_URL_APIS)                                          | api.johnosproject.org  | Url to use as John Cloud Platform entrypoint                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| jcp.url.auth<br/>(JCP_URL_AUTH)                                          | auth.johnosproject.org | Url to use as [JCP authentication](auth.md) service.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| --jcp.client.ssl<br/>(JCP_SSL)                                           | true                   | Set 'false' to disable SSL on communication with the JCP.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| jcp.client.id<br/>(JCP_CLIENT_ID)                                        | ""                     | Valid client id for [JCP authentication](auth.md). Same JOSP Objects/Distribution share same client id.                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| jcp.client.secret<br/>(JCP_CLIENT_SECRET)                                | ""                     | Secret associated to client id for [JCP authentication](auth.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| jcp.client.callback<br/>(JCP_CLIENT_CALLBACK)                            | https://localhost:8080 | Callback url used by authentication server during the [JCP authentication](auth.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| jcp.client.token.authCode<br/>(JCP_CLIENT_TOKEN_AUTH)                    | null                   | OAuth authCode to use during JCP APIs client connection.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |

In the [JSL source directory](/src/main/configs/jsl_default.yml)
you can find some ```jsl.yml``` example file used in the JSL development.